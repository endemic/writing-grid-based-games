<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Game &#35;4&#58; Lights Out | Ganbaru Games</title>
    
    <meta name="description" content="Make a "Lights Out" game with GridJS">
    <meta name="author" content="Nathan Demick">

    <meta property="og:title" content="Game &#35;4&#58; Lights Out" />
    <meta property="og:description" content="Make a "Lights Out" game with GridJS" />

    <link rel="stylesheet" href="https://ganbaru.games/assets/stylesheets/main.css">
    <link rel="shortcut icon" href="https://ganbaru.games/assets/images/henohenomoheji.png" type="image/png">

    <link rel="stylesheet" href="stylesheets/prism.css">
    <link rel="stylesheet" href="stylesheets/extra.css">
  </head>
  <body>
    <h1><span class="henohenomoheji"></span>Ganbaru Games</h1>

    <div class="container">
      <h2>Game &#35;4&#58; Lights Out</h2>

      <section class="text">
        <p><a href="https://en.wikipedia.org/wiki/Lights_Out_(game)">Lights Out</a> was a game made by Tiger Electronics (known for their crappy LCD handhelds) back in 1995. The concept was that a grid of backlit buttons could be pressed by the player. The grid was initialized with randomly lit buttons, and the goal was to “turn off” all the lights. Pressing a lit button turns it off, but also causes the four adjacent buttons to turn on.</p>

<p>This sort of game is perfect to re-implement in gridjs. First, <a href="https://github.com/endemic/gridjs/releases/latest">download GridJS</a>, which includes an <code>index.html</code> file that automatically loads the necessary JavaScript and CSS files. Next, open the <code>game.js</code> file in a text editor; you’ll see that there is some example code there already which initializes a 10x10 grid, and sets up a simple event handler to toggle grid cell background colors. The first thing we can do is change the grid size to a 5x5 board.</p>

<pre><code class="language-diff-javascript diff-highlight">- const rows = 10;
- const columns = 10;
+ const rows = 5;
+ const columns = 5;

Grid.init(rows, columns);</code></pre>

<p>The first thing we need to do is randomly “light up” squares on the game board. After the call to <code>Grid.init()</code>, add the following:</p>

<pre><code class="language-diff-javascript diff-highlight">
let nextState = Grid.state;

for (let x = 0; x &lt; Grid.width; x += 1) {
  for (let y = 0; y &lt; Grid.height; y += 1) {
    if (Math.random() &gt; 0.5) {
      nextState[x][y] = 'light';
    }
  }
}

Grid.state = nextState;
</code></pre>

<p>This code loops through the game board, and will randomly give cells in the grid a value of <code>light</code>. <code>Math.random()</code> is not truly random, but for our purposes it doesn’t really matter. It will return a value between 0 and 1. If you save the <code>game.js</code> file and load <code>index.html</code> in a browser (<strong>File → Open File → index.html</strong>), you should see the 5x5 grid in the center of the page. But you won’t see the randomized pattern of lit squares. That’s because GridJS uses CSS classes to apply styling to each square. The page looks for a class style of <code>.light</code> inside of <code>main.css</code>, but it’s not there. Let’s add it now. Make your own graphic file to represent a light, or else download an example <a href="assets/lights-out/light.png">here</a>. Then add the following at the bottom of <code>main.css</code>:</p>

<pre><code class="language-diff-css diff-highlight">#grid {
  /* ... */

-  .highlight {
-    background-color: blueviolet;
-  }

+  .light { background: url('light.png') center/100%; }
}</code></pre>

<p>This background rule specifies the image file that should be used for the background, and that the image should be placed in the center of the element, and take up 100% of the available background space. You should now see lights randomly appear on the grid when you reload the page.</p>

      </section>

    </div>  <!-- /.container -->

    <!-- syntax highlighting -->
    <script src="scripts/prism.js"></script>

    <section id="about">
      <p>
        Ganbaru Games publishes games written by
        <a href="https://nathandemick.com" title="Nathan Demick">Nathan Demick</a>.
        Each game is playable mobile and desktop web browsers.
        In fact, you can load a game, then "save to homescreen" on your
        smartphone to have convenient access at any time!
      </p>

      <p>
        <a style="float: right;" href="https://ko-fi.com/I2I7LV8YU" target="_blank">
          <img height="36" style="border:0px;height:36px;" src="https://storage.ko-fi.com/cdn/kofi5.png?v=3" alt="Buy Me a Coffee at ko-fi.com">
        </a>
      </p>

      <ul>
        <li><a href="https://github.com/endemic/gridjs">Game making resources</a></li>
        <li><a href="mailto:support@ganbarugames.com">Contact</a></li>
        <li><a href="/privacy.html" title="Privacy Policy">Privacy Policy</a></li>
      </ul>
    </section>

    <footer>
      &copy; 2025 Ganbaru Games, LLC.
    </footer>
  </body>
</html>
